var tr=Object.defineProperty;var nr=(e,t,r)=>t in e?tr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var He=(e,t,r)=>(nr(e,typeof t!="symbol"?t+"":t,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();function le(){}function kn(e){return e()}function on(){return Object.create(null)}function ae(e){e.forEach(kn)}function Re(e){return typeof e=="function"}function Ne(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function rr(e){return Object.keys(e).length===0}function $t(e){return e&&Re(e.destroy)?e.destroy:le}function b(e,t){e.appendChild(t)}function O(e,t,r){e.insertBefore(t,r||null)}function T(e){e.parentNode&&e.parentNode.removeChild(e)}function k(e){return document.createElement(e)}function j(e){return document.createTextNode(e)}function M(){return j(" ")}function Ke(){return j("")}function Oe(e,t,r,n){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)}function P(e,t,r){r==null?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function ir(e){return Array.from(e.childNodes)}function ie(e,t){t=""+t,e.data!==t&&(e.data=t)}function sn(e,t,r,n){r==null?e.style.removeProperty(t):e.style.setProperty(t,r,n?"important":"")}let Rt;function xe(e){Rt=e}const be=[],K=[];let Te=[];const Et=[],or=Promise.resolve();let Dt=!1;function sr(){Dt||(Dt=!0,or.then($n))}function yt(e){Te.push(e)}function Q(e){Et.push(e)}const pt=new Set;let we=0;function $n(){if(we!==0)return;const e=Rt;do{try{for(;we<be.length;){const t=be[we];we++,xe(t),lr(t.$$)}}catch(t){throw be.length=0,we=0,t}for(xe(null),be.length=0,we=0;K.length;)K.pop()();for(let t=0;t<Te.length;t+=1){const r=Te[t];pt.has(r)||(pt.add(r),r())}Te.length=0}while(be.length);for(;Et.length;)Et.pop()();Dt=!1,pt.clear(),xe(e)}function lr(e){if(e.fragment!==null){e.update(),ae(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(yt)}}function ar(e){const t=[],r=[];Te.forEach(n=>e.indexOf(n)===-1?t.push(n):r.push(n)),r.forEach(n=>n()),Te=t}const Ve=new Set;let De;function it(){De={r:0,c:[],p:De}}function ot(){De.r||ae(De.c),De=De.p}function N(e,t){e&&e.i&&(Ve.delete(e),e.i(t))}function S(e,t,r,n){if(e&&e.o){if(Ve.has(e))return;Ve.add(e),De.c.push(()=>{Ve.delete(e),n&&(r&&e.d(1),n())}),e.o(t)}else n&&n()}function Ie(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Nt(e,t){S(e,1,1,()=>{t.delete(e.key)})}function St(e,t,r,n,i,o,l,c,f,m,d,u){let s=e.length,a=o.length,g=s;const D={};for(;g--;)D[e[g].key]=g;const v=[],I=new Map,w=new Map,A=[];for(g=a;g--;){const y=u(i,o,g),h=r(y);let p=l.get(h);p?n&&A.push(()=>p.p(y,t)):(p=m(h,y),p.c()),I.set(h,v[g]=p),h in D&&w.set(h,Math.abs(g-D[h]))}const _=new Set,$=new Set;function C(y){N(y,1),y.m(c,d),l.set(y.key,y),d=y.first,a--}for(;s&&a;){const y=v[a-1],h=e[s-1],p=y.key,ce=h.key;y===h?(d=y.first,s--,a--):I.has(ce)?!l.has(p)||_.has(p)?C(y):$.has(ce)?s--:w.get(p)>w.get(ce)?($.add(p),C(y)):(_.add(ce),s--):(f(h,l),s--)}for(;s--;){const y=e[s];I.has(y.key)||f(y,l)}for(;a;)C(v[a-1]);return ae(A),v}function ee(e,t,r){const n=e.$$.props[t];n!==void 0&&(e.$$.bound[n]=r,r(e.$$.ctx[n]))}function H(e){e&&e.c()}function B(e,t,r){const{fragment:n,after_update:i}=e.$$;n&&n.m(t,r),yt(()=>{const o=e.$$.on_mount.map(kn).filter(Re);e.$$.on_destroy?e.$$.on_destroy.push(...o):ae(o),e.$$.on_mount=[]}),i.forEach(yt)}function z(e,t){const r=e.$$;r.fragment!==null&&(ar(r.after_update),ae(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function cr(e,t){e.$$.dirty[0]===-1&&(be.push(e),sr(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Se(e,t,r,n,i,o,l,c=[-1]){const f=Rt;xe(e);const m=e.$$={fragment:null,ctx:[],props:o,update:le,not_equal:i,bound:on(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(f?f.$$.context:[])),callbacks:on(),dirty:c,skip_bound:!1,root:t.target||f.$$.root};l&&l(m.root);let d=!1;if(m.ctx=r?r(e,t.props||{},(u,s,...a)=>{const g=a.length?a[0]:s;return m.ctx&&i(m.ctx[u],m.ctx[u]=g)&&(!m.skip_bound&&m.bound[u]&&m.bound[u](g),d&&cr(e,u)),s}):[],m.update(),d=!0,ae(m.before_update),m.fragment=n?n(m.ctx):!1,t.target){if(t.hydrate){const u=ir(t.target);m.fragment&&m.fragment.l(u),u.forEach(T)}else m.fragment&&m.fragment.c();t.intro&&N(e.$$.fragment),B(e,t.target,t.anchor),$n()}xe(f)}class Ce{constructor(){He(this,"$$");He(this,"$$set")}$destroy(){z(this,1),this.$destroy=le}$on(t,r){if(!Re(r))return le;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(r),()=>{const i=n.indexOf(r);i!==-1&&n.splice(i,1)}}$set(t){this.$$set&&!rr(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const dr="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(dr);const fr=2,ur=6,Rn=fr*ur;class gr{constructor(){He(this,"id",Math.random())}}class mr extends gr{constructor(t,r,n,i,o,l,c,f){super(),this.name=t,this.cost=r,this.source=n,this.subtype=i,this.speed=o,this.stats=l,this.rulesTxt=c,this.faceDown=f}}const hr="finalize",pr="consider";function ke(e,t,r){e.dispatchEvent(new CustomEvent(hr,{detail:{items:t,info:r}}))}function he(e,t,r){e.dispatchEvent(new CustomEvent(pr,{detail:{items:t,info:r}}))}const st="draggedEntered",Ze="draggedLeft",lt="draggedOverIndex",Ct="draggedLeftDocument",Xe={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function _r(e,t,r){e.dispatchEvent(new CustomEvent(st,{detail:{indexObj:t,draggedEl:r}}))}function Er(e,t,r){e.dispatchEvent(new CustomEvent(Ze,{detail:{draggedEl:t,type:Xe.LEFT_FOR_ANOTHER,theOtherDz:r}}))}function Dr(e,t){e.dispatchEvent(new CustomEvent(Ze,{detail:{draggedEl:t,type:Xe.OUTSIDE_OF_ANY}}))}function yr(e,t,r){e.dispatchEvent(new CustomEvent(lt,{detail:{indexObj:t,draggedEl:r}}))}function wr(e){window.dispatchEvent(new CustomEvent(Ct,{detail:{draggedEl:e}}))}const Y={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:st,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:lt,DRAGGED_LEFT:Ze,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},q={POINTER:"pointer",KEYBOARD:"keyboard"},at="isDndShadowItem",Lt="data-is-dnd-shadow-item-internal",br="data-is-dnd-shadow-item-hint",Tr="id:dnd-shadow-placeholder-0000",vr="dnd-action-dragged-el";let F="id",wt=0;function Nn(){wt++}function Sn(){if(wt===0)throw new Error("Bug! trying to decrement when there are no dropzones");wt--}const Pt=typeof window>"u";function bt(e){let t;const r=e.getBoundingClientRect(),n=getComputedStyle(e),i=n.transform;if(i){let o,l,c,f;if(i.startsWith("matrix3d("))t=i.slice(9,-1).split(/, /),o=+t[0],l=+t[5],c=+t[12],f=+t[13];else if(i.startsWith("matrix("))t=i.slice(7,-1).split(/, /),o=+t[0],l=+t[3],c=+t[4],f=+t[5];else return r;const m=n.transformOrigin,d=r.x-c-(1-o)*parseFloat(m),u=r.y-f-(1-l)*parseFloat(m.slice(m.indexOf(" ")+1)),s=o?r.width/o:e.offsetWidth,a=l?r.height/l:e.offsetHeight;return{x:d,y:u,width:s,height:a,top:u,right:d+s,bottom:u+a,left:d}}else return r}function Cn(e){const t=bt(e);return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function Ln(e){const t=e.getBoundingClientRect();return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function Pn(e){return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function Ar(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function ct(e,t){return e.y<=t.bottom&&e.y>=t.top&&e.x>=t.left&&e.x<=t.right}function Me(e){return Pn(Ln(e))}function ln(e,t){const r=Me(e),n=Cn(t);return ct(r,n)}function Or(e,t){const r=Me(e),n=Me(t);return Ar(r,n)}function Ir(e){const t=Ln(e);return t.right<0||t.left>document.documentElement.scrollWidth||t.bottom<0||t.top>document.documentElement.scrollHeight}let ve;function xt(){ve=new Map}xt();function kr(e){const t=Array.from(e.children).findIndex(r=>r.getAttribute(Lt));if(t>=0)return ve.has(e)||ve.set(e,new Map),ve.get(e).set(t,Cn(e.children[t])),t}function $r(e,t){if(!ln(e,t))return null;const r=t.children;if(r.length===0)return{index:0,isProximityBased:!0};const n=kr(t);for(let l=0;l<r.length;l++)if(ln(e,r[l])){const c=ve.has(t)&&ve.get(t).get(l);return c&&!ct(Me(e),c)?{index:n,isProximityBased:!1}:{index:l,isProximityBased:!1}}let i=Number.MAX_VALUE,o;for(let l=0;l<r.length;l++){const c=Or(e,r[l]);c<i&&(i=c,o=l)}return{index:o,isProximityBased:!0}}function Ye(e){return JSON.stringify(e,null,2)}function Je(e){if(!e)throw new Error("cannot get depth of a falsy node");return xn(e,0)}function xn(e,t=0){return e.parentElement?xn(e.parentElement,t+1):t-1}function Rr(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!{}.hasOwnProperty.call(t,r)||t[r]!==e[r])return!1;return!0}function Nr(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}const Sr=200,an=10;let Tt;function Cr(e,t,r=Sr,n){let i,o,l=!1,c;const f=Array.from(t).sort((d,u)=>Je(u)-Je(d));function m(){const d=Me(e),u=n.multiScrollIfNeeded();if(!u&&c&&Math.abs(c.x-d.x)<an&&Math.abs(c.y-d.y)<an){Tt=window.setTimeout(m,r);return}if(Ir(e)){wr(e);return}c=d;let s=!1;for(const a of f){u&&xt();const g=$r(e,a);if(g===null)continue;const{index:D}=g;s=!0,a!==i?(i&&Er(i,e,a),_r(a,g,e),i=a):D!==o&&(yr(a,g,e),o=D);break}!s&&l&&i?(Dr(i,e),i=void 0,o=void 0,l=!1):l=!0,Tt=window.setTimeout(m,r)}m()}function Lr(){clearTimeout(Tt),xt()}const Le=30;function Pr(){let e;function t(){e={directionObj:void 0,stepPx:0}}t();function r(o){const{directionObj:l,stepPx:c}=e;l&&(o.scrollBy(l.x*c,l.y*c),window.requestAnimationFrame(()=>r(o)))}function n(o){return Le-o}function i(o,l){if(!l)return!1;const c=xr(o,l),f=!!e.directionObj;if(c===null)return f&&t(),!1;let[m,d]=[!1,!1];return l.scrollHeight>l.clientHeight&&(c.bottom<Le?(m=!0,e.directionObj={x:0,y:1},e.stepPx=n(c.bottom)):c.top<Le&&(m=!0,e.directionObj={x:0,y:-1},e.stepPx=n(c.top)),!f&&m)||l.scrollWidth>l.clientWidth&&(c.right<Le?(d=!0,e.directionObj={x:1,y:0},e.stepPx=n(c.right)):c.left<Le&&(d=!0,e.directionObj={x:-1,y:0},e.stepPx=n(c.left)),!f&&d)?(r(l),!0):(t(),!1)}return{scrollIfNeeded:i,resetScrolling:t}}function xr(e,t){const r=t===document.scrollingElement?{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth}:t.getBoundingClientRect();return ct(e,r)?{top:e.y-r.top,bottom:r.bottom-e.y,left:e.x-r.left,right:r.right-e.x}:null}function Mr(e=[],t){const r=Gr(e),n=Array.from(r).sort((c,f)=>Je(f)-Je(c)),{scrollIfNeeded:i,resetScrolling:o}=Pr();function l(){const c=t();if(!c||!n)return!1;const f=n.filter(m=>ct(c,m.getBoundingClientRect())||m===document.scrollingElement);for(let m=0;m<f.length;m++)if(i(c,f[m]))return!0;return!1}return{multiScrollIfNeeded:r.size>0?l:()=>!1,destroy:()=>o()}}function Fr(e){if(!e)return[];const t=[];let r=e;for(;r;){const{overflow:n}=window.getComputedStyle(r);n.split(" ").some(i=>i.includes("auto")||i.includes("scroll"))&&t.push(r),r=r.parentElement}return t}function Gr(e){const t=new Set;for(let r of e)Fr(r).forEach(n=>t.add(n));return(document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight||document.scrollingElement.scrollWidth>document.scrollingElement.clientHeight)&&t.add(document.scrollingElement),t}function Zr(e){const t=e.cloneNode(!0),r=[],n=e.tagName==="SELECT",i=n?[e]:[...e.querySelectorAll("select")];for(const c of i)r.push(c.value);if(i.length>0){const c=n?[t]:[...t.querySelectorAll("select")];for(let f=0;f<c.length;f++){const m=c[f],d=r[f],u=m.querySelector(`option[value="${d}"`);u&&u.setAttribute("selected",!0)}}const o=e.tagName==="CANVAS",l=o?[e]:[...e.querySelectorAll("canvas")];if(l.length>0){const c=o?[t]:[...t.querySelectorAll("canvas")];for(let f=0;f<c.length;f++){const m=l[f],d=c[f];d.width=m.width,d.height=m.height,m.width>0&&m.height>0&&d.getContext("2d").drawImage(m,0,0)}}return t}const Fe=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),Br={[Fe.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT]:!1};function Mn(e){if(!Fe[e])throw new Error(`Can't get non existing feature flag ${e}! Supported flags: ${Object.keys(Fe)}`);return Br[e]}const zr=.2;function pe(e){return`${e} ${zr}s ease`}function Ur(e,t){const r=e.getBoundingClientRect(),n=Zr(e);Fn(e,n),n.id=vr,n.style.position="fixed";let i=r.top,o=r.left;if(n.style.top=`${i}px`,n.style.left=`${o}px`,t){const l=Pn(r);i-=l.y-t.y,o-=l.x-t.x,window.setTimeout(()=>{n.style.top=`${i}px`,n.style.left=`${o}px`},0)}return n.style.margin="0",n.style.boxSizing="border-box",n.style.height=`${r.height}px`,n.style.width=`${r.width}px`,n.style.transition=`${pe("top")}, ${pe("left")}, ${pe("background-color")}, ${pe("opacity")}, ${pe("color")} `,window.setTimeout(()=>n.style.transition+=`, ${pe("width")}, ${pe("height")}`,0),n.style.zIndex="9999",n.style.cursor="grabbing",n}function Wr(e){e.style.cursor="grab"}function Hr(e,t,r,n){Fn(t,e);const i=t.getBoundingClientRect(),o=e.getBoundingClientRect(),l=i.width-o.width,c=i.height-o.height;if(l||c){const f={left:(r-o.left)/o.width,top:(n-o.top)/o.height};Mn(Fe.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(e.style.height=`${i.height}px`,e.style.width=`${i.width}px`),e.style.left=`${parseFloat(e.style.left)-f.left*l}px`,e.style.top=`${parseFloat(e.style.top)-f.top*c}px`}}function Fn(e,t){const r=window.getComputedStyle(e);Array.from(r).filter(n=>n.startsWith("background")||n.startsWith("padding")||n.startsWith("font")||n.startsWith("text")||n.startsWith("align")||n.startsWith("justify")||n.startsWith("display")||n.startsWith("flex")||n.startsWith("border")||n==="opacity"||n==="color"||n==="list-style-type"||Mn(Fe.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&(n==="width"||n==="height")).forEach(n=>t.style.setProperty(n,r.getPropertyValue(n),r.getPropertyPriority(n)))}function Yr(e,t){e.draggable=!1,e.ondragstart=()=>!1,t?(e.style.userSelect="",e.style.WebkitUserSelect="",e.style.cursor=""):(e.style.userSelect="none",e.style.WebkitUserSelect="none",e.style.cursor="grab")}function Gn(e){e.style.display="none",e.style.position="fixed",e.style.zIndex="-5"}function Vr(e){e.style.visibility="hidden",e.setAttribute(Lt,"true")}function qr(e){e.style.visibility="",e.removeAttribute(Lt)}function qe(e,t=()=>{},r=()=>[]){e.forEach(n=>{const i=t(n);Object.keys(i).forEach(o=>{n.style[o]=i[o]}),r(n).forEach(o=>n.classList.add(o))})}function Qe(e,t=()=>{},r=()=>[]){e.forEach(n=>{const i=t(n);Object.keys(i).forEach(o=>{n.style[o]=""}),r(n).forEach(o=>n.classList.contains(o)&&n.classList.remove(o))})}function jr(e){const t=e.style.minHeight;e.style.minHeight=window.getComputedStyle(e).getPropertyValue("height");const r=e.style.minWidth;return e.style.minWidth=window.getComputedStyle(e).getPropertyValue("width"),function(){e.style.minHeight=t,e.style.minWidth=r}}const Kr="--any--",Xr=100,Jr=20,cn=3,dn={outline:"rgba(255, 255, 102, 0.7) solid 2px"},fn="data-is-dnd-original-dragged-item";let oe,Z,V,dt,R,ft,me,U,ue,X,Ee=!1,Mt=!1,Ft,Be=!1,je=[],et;const ne=new Map,x=new Map,_t=new WeakMap;function Qr(e,t){ne.has(t)||ne.set(t,new Set),ne.get(t).has(e)||(ne.get(t).add(e),Nn())}function un(e,t){ne.get(t).delete(e),Sn(),ne.get(t).size===0&&ne.delete(t)}function ei(){const e=ne.get(dt);for(const n of e)n.addEventListener(st,Zn),n.addEventListener(Ze,Bn),n.addEventListener(lt,zn);window.addEventListener(Ct,$e);const t=Math.max(...Array.from(e.keys()).map(n=>x.get(n).dropAnimationDurationMs)),r=t===0?Jr:Math.max(t,Xr);et=Mr(e,()=>X),Cr(Z,e,r*1.07,et)}function ti(){const e=ne.get(dt);for(const t of e)t.removeEventListener(st,Zn),t.removeEventListener(Ze,Bn),t.removeEventListener(lt,zn);window.removeEventListener(Ct,$e),et.destroy(),et=void 0,Lr()}function ut(e){return e.findIndex(t=>!!t[at])}function ni(e){return{...e,[at]:!0,[F]:Tr}}function Zn(e){let{items:t,dropFromOthersDisabled:r}=x.get(e.currentTarget);if(r&&e.currentTarget!==R)return;if(Be=!1,t=t.filter(l=>l[F]!==me[F]),R!==e.currentTarget){const c=x.get(R).items.filter(f=>!f[at]);he(R,c,{trigger:Y.DRAGGED_ENTERED_ANOTHER,id:V[F],source:q.POINTER})}const{index:n,isProximityBased:i}=e.detail.indexObj,o=i&&n===e.currentTarget.children.length-1?n+1:n;U=e.currentTarget,t.splice(o,0,me),he(e.currentTarget,t,{trigger:Y.DRAGGED_ENTERED,id:V[F],source:q.POINTER})}function Bn(e){if(!Ee)return;const{items:t,dropFromOthersDisabled:r}=x.get(e.currentTarget);if(r&&e.currentTarget!==R&&e.currentTarget!==U)return;const n=[...t],i=ut(n);i!==-1&&n.splice(i,1);const o=U;U=void 0;const{type:l,theOtherDz:c}=e.detail;if(l===Xe.OUTSIDE_OF_ANY||l===Xe.LEFT_FOR_ANOTHER&&c!==R&&x.get(c).dropFromOthersDisabled){Be=!0,U=R;const f=o===R?n:[...x.get(R).items];f.splice(ft,0,me),he(R,f,{trigger:Y.DRAGGED_LEFT_ALL,id:V[F],source:q.POINTER})}he(e.currentTarget,n,{trigger:Y.DRAGGED_LEFT,id:V[F],source:q.POINTER})}function zn(e){const{items:t,dropFromOthersDisabled:r}=x.get(e.currentTarget);if(r&&e.currentTarget!==R)return;const n=[...t];Be=!1;const{index:i}=e.detail.indexObj,o=ut(n);o!==-1&&n.splice(o,1),n.splice(i,0,me),he(e.currentTarget,n,{trigger:Y.DRAGGED_OVER_INDEX,id:V[F],source:q.POINTER})}function tt(e){e.preventDefault();const t=e.touches?e.touches[0]:e;X={x:t.clientX,y:t.clientY},Z.style.transform=`translate3d(${X.x-ue.x}px, ${X.y-ue.y}px, 0)`}function $e(){Mt=!0,window.removeEventListener("mousemove",tt),window.removeEventListener("touchmove",tt),window.removeEventListener("mouseup",$e),window.removeEventListener("touchend",$e),ti(),Wr(Z),U||(U=R);let{items:e,type:t}=x.get(U);Qe(ne.get(t),i=>x.get(i).dropTargetStyle,i=>x.get(i).dropTargetClasses);let r=ut(e);r===-1&&U===R&&(r=ft),e=e.map(i=>i[at]?V:i);function n(){Ft(),ke(U,e,{trigger:Be?Y.DROPPED_OUTSIDE_OF_ANY:Y.DROPPED_INTO_ZONE,id:V[F],source:q.POINTER}),U!==R&&ke(R,x.get(R).items,{trigger:Y.DROPPED_INTO_ANOTHER,id:V[F],source:q.POINTER}),r!==-1&&qr(U.children[r]),oi()}ri(r,n)}function ri(e,t){const r=e>-1?bt(U.children[e]):bt(U),n={x:r.left-parseFloat(Z.style.left),y:r.top-parseFloat(Z.style.top)},{dropAnimationDurationMs:i}=x.get(U),o=`transform ${i}ms ease`;Z.style.transition=Z.style.transition?Z.style.transition+","+o:o,Z.style.transform=`translate3d(${n.x}px, ${n.y}px, 0)`,window.setTimeout(t,i)}function ii(e,t){je.push({dz:e,destroy:t}),window.requestAnimationFrame(()=>{Gn(e),document.body.appendChild(e)})}function oi(){Z.remove(),oe.remove(),je.length&&(je.forEach(({dz:e,destroy:t})=>{t(),e.remove()}),je=[]),Z=void 0,oe=void 0,V=void 0,dt=void 0,R=void 0,ft=void 0,me=void 0,U=void 0,ue=void 0,X=void 0,Ee=!1,Mt=!1,Ft=void 0,Be=!1}function si(e,t){let r=!1;const n={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:dn,dropTargetClasses:[],transformDraggedElement:()=>{},centreDraggedOnCursor:!1};let i=new Map;function o(){window.addEventListener("mousemove",f,{passive:!1}),window.addEventListener("touchmove",f,{passive:!1,capture:!1}),window.addEventListener("mouseup",c,{passive:!1}),window.addEventListener("touchend",c,{passive:!1})}function l(){window.removeEventListener("mousemove",f),window.removeEventListener("touchmove",f),window.removeEventListener("mouseup",c),window.removeEventListener("touchend",c)}function c(s){l(),oe=void 0,ue=void 0,X=void 0,s.type==="touchend"&&s.target.click()}function f(s){s.preventDefault();const a=s.touches?s.touches[0]:s;X={x:a.clientX,y:a.clientY},(Math.abs(X.x-ue.x)>=cn||Math.abs(X.y-ue.y)>=cn)&&(l(),d())}function m(s){if(s.target!==s.currentTarget&&(s.target.value!==void 0||s.target.isContentEditable)||s.button||Ee)return;s.preventDefault(),s.stopPropagation();const a=s.touches?s.touches[0]:s;ue={x:a.clientX,y:a.clientY},X={...ue},oe=s.currentTarget,o()}function d(){Ee=!0;const s=i.get(oe);ft=s,R=oe.parentElement;const a=R.closest("dialog")||R.getRootNode(),g=a.body||a,{items:D,type:v,centreDraggedOnCursor:I}=n,w=[...D];V=w[s],dt=v,me=ni(V),Z=Ur(oe,I&&X),oe.setAttribute(fn,!0);function A(){Z.parentElement?window.requestAnimationFrame(A):(g.appendChild(Z),Z.focus(),ei(),Gn(oe),g.appendChild(oe),me[F]=V[F])}window.requestAnimationFrame(A),qe(Array.from(ne.get(n.type)).filter(_=>_===R||!x.get(_).dropFromOthersDisabled),_=>x.get(_).dropTargetStyle,_=>x.get(_).dropTargetClasses),w.splice(s,1,me),Ft=jr(R),he(R,w,{trigger:Y.DRAG_STARTED,id:V[F],source:q.POINTER}),window.addEventListener("mousemove",tt,{passive:!1}),window.addEventListener("touchmove",tt,{passive:!1,capture:!1}),window.addEventListener("mouseup",$e,{passive:!1}),window.addEventListener("touchend",$e,{passive:!1})}function u({items:s=void 0,flipDurationMs:a=0,type:g=Kr,dragDisabled:D=!1,morphDisabled:v=!1,dropFromOthersDisabled:I=!1,dropTargetStyle:w=dn,dropTargetClasses:A=[],transformDraggedElement:_=()=>{},centreDraggedOnCursor:$=!1}){n.dropAnimationDurationMs=a,n.type&&g!==n.type&&un(e,n.type),n.type=g,n.items=[...s],n.dragDisabled=D,n.morphDisabled=v,n.transformDraggedElement=_,n.centreDraggedOnCursor=$,r&&Ee&&!Mt&&(!Rr(w,n.dropTargetStyle)||!Nr(A,n.dropTargetClasses))&&(Qe([e],()=>n.dropTargetStyle,()=>A),qe([e],()=>w,()=>A)),n.dropTargetStyle=w,n.dropTargetClasses=[...A];function C(h,p){return x.get(h)?x.get(h)[p]:n[p]}r&&Ee&&n.dropFromOthersDisabled!==I&&(I?Qe([e],h=>C(h,"dropTargetStyle"),h=>C(h,"dropTargetClasses")):qe([e],h=>C(h,"dropTargetStyle"),h=>C(h,"dropTargetClasses"))),n.dropFromOthersDisabled=I,x.set(e,n),Qr(e,g);const y=ut(n.items);for(let h=0;h<e.children.length;h++){const p=e.children[h];if(Yr(p,D),h===y){v||Hr(Z,p,X.x,X.y),n.transformDraggedElement(Z,V,h),Vr(p);continue}p.removeEventListener("mousedown",_t.get(p)),p.removeEventListener("touchstart",_t.get(p)),D||(p.addEventListener("mousedown",m),p.addEventListener("touchstart",m),_t.set(p,m)),i.set(p,h),r||(r=!0)}}return u(t),{update:s=>{u(s)},destroy:()=>{function s(){un(e,x.get(e).type),x.delete(e)}Ee&&!e.closest(`[${fn}]`)?ii(e,s):s()}}}const vt={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},Un={[vt.DND_ZONE_ACTIVE]:"Tab to one the items and press space-bar or enter to start dragging it",[vt.DND_ZONE_DRAG_DISABLED]:"This is a disabled drag and drop list"},li="dnd-action-aria-alert";let L;function At(){L||(L=document.createElement("div"),function(){L.id=li,L.style.position="fixed",L.style.bottom="0",L.style.left="0",L.style.zIndex="-5",L.style.opacity="0",L.style.height="0",L.style.width="0",L.setAttribute("role","alert")}(),document.body.prepend(L),Object.entries(Un).forEach(([e,t])=>document.body.prepend(di(e,t))))}function ai(){return Pt?null:(document.readyState==="complete"?At():window.addEventListener("DOMContentLoaded",At),{...vt})}function ci(){Pt||!L||(Object.keys(Un).forEach(e=>{var t;return(t=document.getElementById(e))==null?void 0:t.remove()}),L.remove(),L=void 0)}function di(e,t){const r=document.createElement("div");return r.id=e,r.innerHTML=`<p>${t}</p>`,r.style.display="none",r.style.position="fixed",r.style.zIndex="-5",r}function Ae(e){if(Pt)return;L||At(),L.innerHTML="";const t=document.createTextNode(e);L.appendChild(t),L.style.display="none",L.style.display="inline"}const fi="--any--",gn={outline:"rgba(255, 255, 102, 0.7) solid 2px"};let J=!1,Ot,W,ye="",_e,se,ge="";const nt=new WeakSet,mn=new WeakMap,hn=new WeakMap,It=new Map,G=new Map,te=new Map;let rt;function ui(e,t){te.size===0&&(rt=ai(),window.addEventListener("keydown",Wn),window.addEventListener("click",Hn)),te.has(t)||te.set(t,new Set),te.get(t).has(e)||(te.get(t).add(e),Nn())}function pn(e,t){W===e&&Ge(),te.get(t).delete(e),Sn(),te.get(t).size===0&&te.delete(t),te.size===0&&(window.removeEventListener("keydown",Wn),window.removeEventListener("click",Hn),rt=void 0,ci())}function Wn(e){if(J)switch(e.key){case"Escape":{Ge();break}}}function Hn(){J&&(nt.has(document.activeElement)||Ge())}function gi(e){if(!J)return;const t=e.currentTarget;if(t===W)return;ye=t.getAttribute("aria-label")||"";const{items:r}=G.get(W),n=r.find(m=>m[F]===se),i=r.indexOf(n),o=r.splice(i,1)[0],{items:l,autoAriaDisabled:c}=G.get(t);t.getBoundingClientRect().top<W.getBoundingClientRect().top||t.getBoundingClientRect().left<W.getBoundingClientRect().left?(l.push(o),c||Ae(`Moved item ${ge} to the end of the list ${ye}`)):(l.unshift(o),c||Ae(`Moved item ${ge} to the beginning of the list ${ye}`)),ke(W,r,{trigger:Y.DROPPED_INTO_ANOTHER,id:se,source:q.KEYBOARD}),ke(t,l,{trigger:Y.DROPPED_INTO_ZONE,id:se,source:q.KEYBOARD}),W=t}function Yn(){It.forEach(({update:e},t)=>e(G.get(t)))}function Ge(e=!0){G.get(W).autoAriaDisabled||Ae(`Stopped dragging item ${ge}`),nt.has(document.activeElement)&&document.activeElement.blur(),e&&he(W,G.get(W).items,{trigger:Y.DRAG_STOPPED,id:se,source:q.KEYBOARD}),Qe(te.get(Ot),t=>G.get(t).dropTargetStyle,t=>G.get(t).dropTargetClasses),_e=null,se=null,ge="",Ot=null,W=null,ye="",J=!1,Yn()}function mi(e,t){const r={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:gn,dropTargetClasses:[],autoAriaDisabled:!1};function n(d,u,s){d.length<=1||d.splice(s,1,d.splice(u,1,d[s])[0])}function i(d){switch(d.key){case"Enter":case" ":{if((d.target.disabled!==void 0||d.target.href||d.target.isContentEditable)&&!nt.has(d.target))return;d.preventDefault(),d.stopPropagation(),J?Ge():o(d);break}case"ArrowDown":case"ArrowRight":{if(!J)return;d.preventDefault(),d.stopPropagation();const{items:u}=G.get(e),s=Array.from(e.children),a=s.indexOf(d.currentTarget);a<s.length-1&&(r.autoAriaDisabled||Ae(`Moved item ${ge} to position ${a+2} in the list ${ye}`),n(u,a,a+1),ke(e,u,{trigger:Y.DROPPED_INTO_ZONE,id:se,source:q.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!J)return;d.preventDefault(),d.stopPropagation();const{items:u}=G.get(e),a=Array.from(e.children).indexOf(d.currentTarget);a>0&&(r.autoAriaDisabled||Ae(`Moved item ${ge} to position ${a} in the list ${ye}`),n(u,a,a-1),ke(e,u,{trigger:Y.DROPPED_INTO_ZONE,id:se,source:q.KEYBOARD}));break}}}function o(d){c(d.currentTarget),W=e,Ot=r.type,J=!0;const u=Array.from(te.get(r.type)).filter(s=>s===W||!G.get(s).dropFromOthersDisabled);if(qe(u,s=>G.get(s).dropTargetStyle,s=>G.get(s).dropTargetClasses),!r.autoAriaDisabled){let s=`Started dragging item ${ge}. Use the arrow keys to move it within its list ${ye}`;u.length>1&&(s+=", or tab to another list in order to move the item into it"),Ae(s)}he(e,G.get(e).items,{trigger:Y.DRAG_STARTED,id:se,source:q.KEYBOARD}),Yn()}function l(d){J&&d.currentTarget!==_e&&(d.stopPropagation(),Ge(!1),o(d))}function c(d){const{items:u}=G.get(e),s=Array.from(e.children),a=s.indexOf(d);_e=d,_e.tabIndex=r.zoneItemTabIndex,se=u[a][F],ge=s[a].getAttribute("aria-label")||""}function f({items:d=[],type:u=fi,dragDisabled:s=!1,zoneTabIndex:a=0,zoneItemTabIndex:g=0,dropFromOthersDisabled:D=!1,dropTargetStyle:v=gn,dropTargetClasses:I=[],autoAriaDisabled:w=!1}){r.items=[...d],r.dragDisabled=s,r.dropFromOthersDisabled=D,r.zoneTabIndex=a,r.zoneItemTabIndex=g,r.dropTargetStyle=v,r.dropTargetClasses=I,r.autoAriaDisabled=w,r.type&&u!==r.type&&pn(e,r.type),r.type=u,ui(e,u),w||(e.setAttribute("aria-disabled",s),e.setAttribute("role","list"),e.setAttribute("aria-describedby",s?rt.DND_ZONE_DRAG_DISABLED:rt.DND_ZONE_ACTIVE)),G.set(e,r),J?e.tabIndex=e===W||_e.contains(e)||r.dropFromOthersDisabled||W&&r.type!==G.get(W).type?-1:0:e.tabIndex=r.zoneTabIndex,e.addEventListener("focus",gi);for(let A=0;A<e.children.length;A++){const _=e.children[A];nt.add(_),_.tabIndex=J?-1:r.zoneItemTabIndex,w||_.setAttribute("role","listitem"),_.removeEventListener("keydown",mn.get(_)),_.removeEventListener("click",hn.get(_)),s||(_.addEventListener("keydown",i),mn.set(_,i),_.addEventListener("click",l),hn.set(_,l)),J&&r.items[A][F]===se&&(_e=_,_e.tabIndex=r.zoneItemTabIndex,_.focus())}}f(t);const m={update:d=>{f(d)},destroy:()=>{pn(e,r.type),G.delete(e),It.delete(e)}};return It.set(e,m),m}function Gt(e,t){if(hi(e))return{update:()=>{},destroy:()=>{}};_n(t);const r=si(e,t),n=mi(e,t);return{update:i=>{_n(i),r.update(i),n.update(i)},destroy:()=>{r.destroy(),n.destroy()}}}function hi(e){return!!e.closest(`[${br}="true"]`)}function _n(e){const{items:t,flipDurationMs:r,type:n,dragDisabled:i,morphDisabled:o,dropFromOthersDisabled:l,zoneTabIndex:c,zoneItemTabIndex:f,dropTargetStyle:m,dropTargetClasses:d,transformDraggedElement:u,autoAriaDisabled:s,centreDraggedOnCursor:a,...g}=e;if(Object.keys(g).length>0&&console.warn("dndzone will ignore unknown options",g),!t)throw new Error("no 'items' key provided to dndzone");const D=t.find(v=>!{}.hasOwnProperty.call(v,F));if(D)throw new Error(`missing '${F}' property for item ${Ye(D)}`);if(d&&!Array.isArray(d))throw new Error(`dropTargetClasses should be an array but instead it is a ${typeof d}, ${Ye(d)}`);if(c&&!En(c))throw new Error(`zoneTabIndex should be a number but instead it is a ${typeof c}, ${Ye(c)}`);if(f&&!En(f))throw new Error(`zoneItemTabIndex should be a number but instead it is a ${typeof f}, ${Ye(f)}`)}function En(e){return!isNaN(e)&&function(t){return(t|0)===t}(parseFloat(e))}function Dn(e){let t,r=!e[1]&&yn(e);return{c(){t=k("div"),r&&r.c()},m(n,i){O(n,t,i),r&&r.m(t,null)},p(n,i){n[1]?r&&(r.d(1),r=null):r?r.p(n,i):(r=yn(n),r.c(),r.m(t,null))},d(n){n&&T(t),r&&r.d()}}}function yn(e){let t=e[0].name+"",r,n,i=e[0].cost+"",o,l,c=e[0].source+"",f,m,d=e[0].subtype+"",u,s,a=e[0].speed+"",g,D,v=e[0].stats.type+"",I,w,A=e[0].rulesTxt+"",_,$,C=e[0].faceDown+"",y;return{c(){r=j(t),n=M(),o=j(i),l=M(),f=j(c),m=M(),u=j(d),s=M(),g=j(a),D=M(),I=j(v),w=M(),_=j(A),$=M(),y=j(C)},m(h,p){O(h,r,p),O(h,n,p),O(h,o,p),O(h,l,p),O(h,f,p),O(h,m,p),O(h,u,p),O(h,s,p),O(h,g,p),O(h,D,p),O(h,I,p),O(h,w,p),O(h,_,p),O(h,$,p),O(h,y,p)},p(h,p){p&1&&t!==(t=h[0].name+"")&&ie(r,t),p&1&&i!==(i=h[0].cost+"")&&ie(o,i),p&1&&c!==(c=h[0].source+"")&&ie(f,c),p&1&&d!==(d=h[0].subtype+"")&&ie(u,d),p&1&&a!==(a=h[0].speed+"")&&ie(g,a),p&1&&v!==(v=h[0].stats.type+"")&&ie(I,v),p&1&&A!==(A=h[0].rulesTxt+"")&&ie(_,A),p&1&&C!==(C=h[0].faceDown+"")&&ie(y,C)},d(h){h&&(T(r),T(n),T(o),T(l),T(f),T(m),T(u),T(s),T(g),T(D),T(I),T(w),T(_),T($),T(y))}}}function pi(e){let t,r,n=e[0]!==void 0&&Dn(e);return{c(){t=k("div"),n&&n.c(),P(t,"class",r="h-40 max-w-[7rem] rounded border border-black "+e[2])},m(i,o){O(i,t,o),n&&n.m(t,null)},p(i,[o]){i[0]!==void 0?n?n.p(i,o):(n=Dn(i),n.c(),n.m(t,null)):n&&(n.d(1),n=null),o&4&&r!==(r="h-40 max-w-[7rem] rounded border border-black "+i[2])&&P(t,"class",r)},i:le,o:le,d(i){i&&T(t),n&&n.d()}}}function _i(e,t,r){let{card:n}=t,{blank:i=!1}=t,{extraClasses:o=""}=t;return e.$$set=l=>{"card"in l&&r(0,n=l.card),"blank"in l&&r(1,i=l.blank),"extraClasses"in l&&r(2,o=l.extraClasses)},[n,i,o]}class gt extends Ce{constructor(t){super(),Se(this,t,_i,pi,Ne,{card:0,blank:1,extraClasses:2})}}function wn(e,t,r){const n=e.slice();return n[4]=t[r],n}function bn(e,t){let r,n,i;return n=new gt({props:{card:t[4]}}),{key:e,first:null,c(){r=Ke(),H(n.$$.fragment),this.first=r},m(o,l){O(o,r,l),B(n,o,l),i=!0},p(o,l){t=o;const c={};l&1&&(c.card=t[4]),n.$set(c)},i(o){i||(N(n.$$.fragment,o),i=!0)},o(o){S(n.$$.fragment,o),i=!1},d(o){o&&T(r),z(n,o)}}}function Ei(e){let t,r,n,i,o=[],l=new Map,c,f,m,d,u=Ie(e[0]);const s=a=>a[4].id;for(let a=0;a<u.length;a+=1){let g=wn(e,u,a),D=s(g);l.set(D,o[a]=bn(D,g))}return{c(){t=k("div"),r=j(e[1]),n=M(),i=k("div");for(let a=0;a<o.length;a+=1)o[a].c();P(i,"class","grid min-h-[10rem] min-w-[20rem] gap-2"),sn(i,"grid-template-columns","repeat("+e[2]+", minmax(0, 1fr))")},m(a,g){O(a,t,g),b(t,r),b(t,n),b(t,i);for(let D=0;D<o.length;D+=1)o[D]&&o[D].m(i,null);f=!0,m||(d=[$t(c=Gt.call(null,i,{items:e[0]})),Oe(i,"consider",e[3]),Oe(i,"finalize",e[3])],m=!0)},p(a,[g]){(!f||g&2)&&ie(r,a[1]),g&1&&(u=Ie(a[0]),it(),o=St(o,g,s,1,a,u,l,i,Nt,bn,null,wn),ot()),(!f||g&4)&&sn(i,"grid-template-columns","repeat("+a[2]+", minmax(0, 1fr))"),c&&Re(c.update)&&g&1&&c.update.call(null,{items:a[0]})},i(a){if(!f){for(let g=0;g<u.length;g+=1)N(o[g]);f=!0}},o(a){for(let g=0;g<o.length;g+=1)S(o[g]);f=!1},d(a){a&&T(t);for(let g=0;g<o.length;g+=1)o[g].d();m=!1,ae(d)}}}function Di(e,t,r){let{area:n}=t,{name:i}=t,{cols:o=6}=t;function l(c){r(0,n=c.detail.items)}return e.$$set=c=>{"area"in c&&r(0,n=c.area),"name"in c&&r(1,i=c.name),"cols"in c&&r(2,o=c.cols)},[n,i,o,l]}class kt extends Ce{constructor(t){super(),Se(this,t,Di,Ei,Ne,{area:0,name:1,cols:2})}}function Tn(e,t,r){const n=e.slice();return n[3]=t[r],n}function vn(e,t){let r,n,i;return n=new gt({props:{card:t[3]}}),{key:e,first:null,c(){r=Ke(),H(n.$$.fragment),this.first=r},m(o,l){O(o,r,l),B(n,o,l),i=!0},p(o,l){t=o;const c={};l&1&&(c.card=t[3]),n.$set(c)},i(o){i||(N(n.$$.fragment,o),i=!0)},o(o){S(n.$$.fragment,o),i=!1},d(o){o&&T(r),z(n,o)}}}function yi(e){let t,r,n,i=[],o=new Map,l,c,f,m,d=Ie(e[0]);const u=s=>s[3].id;for(let s=0;s<d.length;s+=1){let a=Tn(e,d,s),g=u(a);o.set(g,i[s]=vn(g,a))}return{c(){t=k("div"),r=j(`Battlefield\r
    `),n=k("div");for(let s=0;s<i.length;s+=1)i[s].c();P(n,"class","grid min-h-[10rem] min-w-[20rem] grid-cols-6 gap-2")},m(s,a){O(s,t,a),b(t,r),b(t,n);for(let g=0;g<i.length;g+=1)i[g]&&i[g].m(n,null);c=!0,f||(m=[$t(l=Gt.call(null,n,{items:e[0],dropFromOthersDisabled:e[1]})),Oe(n,"consider",e[2]),Oe(n,"finalize",e[2])],f=!0)},p(s,[a]){a&1&&(d=Ie(s[0]),it(),i=St(i,a,u,1,s,d,o,n,Nt,vn,null,Tn),ot()),l&&Re(l.update)&&a&3&&l.update.call(null,{items:s[0],dropFromOthersDisabled:s[1]})},i(s){if(!c){for(let a=0;a<d.length;a+=1)N(i[a]);c=!0}},o(s){for(let a=0;a<i.length;a+=1)S(i[a]);c=!1},d(s){s&&T(t);for(let a=0;a<i.length;a+=1)i[a].d();f=!1,ae(m)}}}function wi(e,t,r){let n,{area:i}=t;function o(l){r(0,i=l.detail.items)}return e.$$set=l=>{"area"in l&&r(0,i=l.area)},e.$$.update=()=>{e.$$.dirty&1&&r(1,n=i.length>=Rn)},[i,n,o]}class bi extends Ce{constructor(t){super(),Se(this,t,wi,yi,Ne,{area:0})}}function An(e,t,r){const n=e.slice();return n[5]=t[r],n[7]=r,n}function Ti(e){let t;return{c(){t=k("div")},m(r,n){O(r,t,n)},p:le,i:le,o:le,d(r){r&&T(t)}}}function vi(e){let t,r;return t=new gt({props:{card:e[5],extraClasses:"w-2 overflow-hidden border-r-0 rounded-r-none"}}),{c(){H(t.$$.fragment)},m(n,i){B(t,n,i),r=!0},p(n,i){const o={};i&1&&(o.card=n[5]),t.$set(o)},i(n){r||(N(t.$$.fragment,n),r=!0)},o(n){S(t.$$.fragment,n),r=!1},d(n){z(t,n)}}}function Ai(e){let t,r;return t=new gt({props:{card:e[5]}}),{c(){H(t.$$.fragment)},m(n,i){B(t,n,i),r=!0},p(n,i){const o={};i&1&&(o.card=n[5]),t.$set(o)},i(n){r||(N(t.$$.fragment,n),r=!0)},o(n){S(t.$$.fragment,n),r=!1},d(n){z(t,n)}}}function On(e,t){let r,n,i,o,l;const c=[Ai,vi,Ti],f=[];function m(d,u){return d[7]===d[0].length-1?0:d[7]===d[0].length-2?1:2}return n=m(t),i=f[n]=c[n](t),{key:e,first:null,c(){r=Ke(),i.c(),o=Ke(),this.first=r},m(d,u){O(d,r,u),f[n].m(d,u),O(d,o,u),l=!0},p(d,u){t=d;let s=n;n=m(t),n===s?f[n].p(t,u):(it(),S(f[s],1,1,()=>{f[s]=null}),ot(),i=f[n],i?i.p(t,u):(i=f[n]=c[n](t),i.c()),N(i,1),i.m(o.parentNode,o))},i(d){l||(N(i),l=!0)},o(d){S(i),l=!1},d(d){d&&(T(r),T(o)),f[n].d(d)}}}function Oi(e){let t,r,n,i,o=[],l=new Map,c,f,m,d,u=Ie(e[0]);const s=a=>a[5].id;for(let a=0;a<u.length;a+=1){let g=An(e,u,a),D=s(g);l.set(D,o[a]=On(D,g))}return{c(){t=k("div"),r=j(e[1]),n=M(),i=k("div");for(let a=0;a<o.length;a+=1)o[a].c();P(i,"class","flex h-40 w-28 rounded shadow-inner")},m(a,g){O(a,t,g),b(t,r),b(t,n),b(t,i);for(let D=0;D<o.length;D+=1)o[D]&&o[D].m(i,null);f=!0,m||(d=[$t(c=Gt.call(null,i,{items:e[0]})),Oe(i,"consider",e[3]),Oe(i,"finalize",e[2])],m=!0)},p(a,[g]){(!f||g&2)&&ie(r,a[1]),g&1&&(u=Ie(a[0]),it(),o=St(o,g,s,1,a,u,l,i,Nt,On,null,An),ot()),c&&Re(c.update)&&g&1&&c.update.call(null,{items:a[0]})},i(a){if(!f){for(let g=0;g<u.length;g+=1)N(o[g]);f=!0}},o(a){for(let g=0;g<o.length;g+=1)S(o[g]);f=!1},d(a){a&&T(t);for(let g=0;g<o.length;g+=1)o[g].d();m=!1,ae(d)}}}function Ii(e,t,r){let{deck:n}=t,{name:i}=t;function o(f,m){let d=n.find(s=>s.id===f.id),u=n.find(s=>s.id===m.id);return d&&u?0:d&&!u?-1:!d&&u?1:0}function l(f){r(0,n=f.detail.items.sort(o))}function c(f){r(0,n=f.detail.items.sort(o))}return e.$$set=f=>{"deck"in f&&r(0,n=f.deck),"name"in f&&r(1,i=f.name)},[n,i,l,c]}class Pe extends Ce{constructor(t){super(),Se(this,t,Ii,Oi,Ne,{deck:0,name:1})}}function ki(e){let t,r,n,i,o,l,c,f,m,d,u,s,a,g,D,v,I,w,A,_,$,C,y,h,p,ce,Zt,de,mt,Bt,ze,Ue,fe,ht,We;function Vn(E){e[1](E)}let zt={name:"Combat"};e[0].combatArea!==void 0&&(zt.area=e[0].combatArea),i=new kt({props:zt}),K.push(()=>ee(i,"area",Vn));function qn(E){e[2](E)}let Ut={name:"Memory/Discard"};e[0].memDiscard!==void 0&&(Ut.deck=e[0].memDiscard),f=new Pe({props:Ut}),K.push(()=>ee(f,"deck",qn));function jn(E){e[3](E)}let Wt={};e[0].battleField!==void 0&&(Wt.area=e[0].battleField),a=new bi({props:Wt}),K.push(()=>ee(a,"area",jn));function Kn(E){e[4](E)}let Ht={name:"Channeled"};e[0].channeled!==void 0&&(Ht.deck=e[0].channeled),w=new Pe({props:Ht}),K.push(()=>ee(w,"deck",Kn));function Xn(E){e[5](E)}let Yt={name:"Void"};e[0].voidPile!==void 0&&(Yt.deck=e[0].voidPile),$=new Pe({props:Yt}),K.push(()=>ee($,"deck",Xn));function Jn(E){e[6](E)}let Vt={name:"Random"};e[0].randomZone!==void 0&&(Vt.deck=e[0].randomZone),p=new Pe({props:Vt}),K.push(()=>ee(p,"deck",Jn));function Qn(E){e[7](E)}let qt={name:"Deck"};e[0].deck!==void 0&&(qt.deck=e[0].deck),de=new Pe({props:qt}),K.push(()=>ee(de,"deck",Qn));function er(E){e[8](E)}let jt={name:"Hand"};return e[0].hand!==void 0&&(jt.area=e[0].hand),fe=new kt({props:jt}),K.push(()=>ee(fe,"area",er)),{c(){t=k("div"),r=k("div"),n=k("div"),H(i.$$.fragment),l=M(),c=k("div"),H(f.$$.fragment),d=M(),u=k("div"),s=k("div"),H(a.$$.fragment),D=M(),v=k("div"),I=k("div"),H(w.$$.fragment),_=M(),H($.$$.fragment),y=M(),h=k("div"),H(p.$$.fragment),Zt=M(),H(de.$$.fragment),Bt=M(),ze=k("div"),Ue=k("div"),H(fe.$$.fragment),P(n,"class","min-w-2/3 rounded border border-black p-1"),P(c,"class","min-w-1/3 rounded border border-black p-1"),P(r,"class","flex flex-row gap-2"),P(s,"class","rounded border border-black p-1"),P(I,"class","flex flex-row gap-2"),P(h,"class","flex flex-row gap-2"),P(v,"class","flex flex-col gap-2 rounded border border-black p-1"),P(u,"class","flex flex-row gap-2"),P(Ue,"class","rounded border border-black p-1"),P(ze,"class","flex flex-row gap-2"),P(t,"class","flex flex-col gap-2")},m(E,re){O(E,t,re),b(t,r),b(r,n),B(i,n,null),b(r,l),b(r,c),B(f,c,null),b(t,d),b(t,u),b(u,s),B(a,s,null),b(u,D),b(u,v),b(v,I),B(w,I,null),b(I,_),B($,I,null),b(v,y),b(v,h),B(p,h,null),b(h,Zt),B(de,h,null),b(t,Bt),b(t,ze),b(ze,Ue),B(fe,Ue,null),We=!0},p(E,[re]){const Kt={};!o&&re&1&&(o=!0,Kt.area=E[0].combatArea,Q(()=>o=!1)),i.$set(Kt);const Xt={};!m&&re&1&&(m=!0,Xt.deck=E[0].memDiscard,Q(()=>m=!1)),f.$set(Xt);const Jt={};!g&&re&1&&(g=!0,Jt.area=E[0].battleField,Q(()=>g=!1)),a.$set(Jt);const Qt={};!A&&re&1&&(A=!0,Qt.deck=E[0].channeled,Q(()=>A=!1)),w.$set(Qt);const en={};!C&&re&1&&(C=!0,en.deck=E[0].voidPile,Q(()=>C=!1)),$.$set(en);const tn={};!ce&&re&1&&(ce=!0,tn.deck=E[0].randomZone,Q(()=>ce=!1)),p.$set(tn);const nn={};!mt&&re&1&&(mt=!0,nn.deck=E[0].deck,Q(()=>mt=!1)),de.$set(nn);const rn={};!ht&&re&1&&(ht=!0,rn.area=E[0].hand,Q(()=>ht=!1)),fe.$set(rn)},i(E){We||(N(i.$$.fragment,E),N(f.$$.fragment,E),N(a.$$.fragment,E),N(w.$$.fragment,E),N($.$$.fragment,E),N(p.$$.fragment,E),N(de.$$.fragment,E),N(fe.$$.fragment,E),We=!0)},o(E){S(i.$$.fragment,E),S(f.$$.fragment,E),S(a.$$.fragment,E),S(w.$$.fragment,E),S($.$$.fragment,E),S(p.$$.fragment,E),S(de.$$.fragment,E),S(fe.$$.fragment,E),We=!1},d(E){E&&T(t),z(i),z(f),z(a),z(w),z($),z(p),z(de),z(fe)}}}function $i(e,t,r){let{playArea:n}=t;function i(s){e.$$.not_equal(n.combatArea,s)&&(n.combatArea=s,r(0,n))}function o(s){e.$$.not_equal(n.memDiscard,s)&&(n.memDiscard=s,r(0,n))}function l(s){e.$$.not_equal(n.battleField,s)&&(n.battleField=s,r(0,n))}function c(s){e.$$.not_equal(n.channeled,s)&&(n.channeled=s,r(0,n))}function f(s){e.$$.not_equal(n.voidPile,s)&&(n.voidPile=s,r(0,n))}function m(s){e.$$.not_equal(n.randomZone,s)&&(n.randomZone=s,r(0,n))}function d(s){e.$$.not_equal(n.deck,s)&&(n.deck=s,r(0,n))}function u(s){e.$$.not_equal(n.hand,s)&&(n.hand=s,r(0,n))}return e.$$set=s=>{"playArea"in s&&r(0,n=s.playArea)},[n,i,o,l,c,f,m,d,u]}class In extends Ce{constructor(t){super(),Se(this,t,$i,ki,Ne,{playArea:0})}}function Ri(e){let t,r,n,i,o,l,c,f,m,d,u,s,a;function g(_){e[3](_)}let D={};e[0]!==void 0&&(D.playArea=e[0]),n=new In({props:D}),K.push(()=>ee(n,"playArea",g));function v(_){e[4](_)}let I={name:"Dream",cols:3};e[2]!==void 0&&(I.area=e[2]),c=new kt({props:I}),K.push(()=>ee(c,"area",v));function w(_){e[5](_)}let A={};return e[1]!==void 0&&(A.playArea=e[1]),u=new In({props:A}),K.push(()=>ee(u,"playArea",w)),{c(){t=k("div"),r=k("div"),H(n.$$.fragment),o=M(),l=k("div"),H(c.$$.fragment),m=M(),d=k("div"),H(u.$$.fragment),P(r,"class","shrink-0"),P(l,"class","shrink-0 rounded border border-black p-2"),P(d,"class","shrink-0"),P(t,"class","flex flex-row gap-2 p-2")},m(_,$){O(_,t,$),b(t,r),B(n,r,null),b(t,o),b(t,l),B(c,l,null),b(t,m),b(t,d),B(u,d,null),a=!0},p(_,[$]){const C={};!i&&$&1&&(i=!0,C.playArea=_[0],Q(()=>i=!1)),n.$set(C);const y={};!f&&$&4&&(f=!0,y.area=_[2],Q(()=>f=!1)),c.$set(y);const h={};!s&&$&2&&(s=!0,h.playArea=_[1],Q(()=>s=!1)),u.$set(h)},i(_){a||(N(n.$$.fragment,_),N(c.$$.fragment,_),N(u.$$.fragment,_),a=!0)},o(_){S(n.$$.fragment,_),S(c.$$.fragment,_),S(u.$$.fragment,_),a=!1},d(_){_&&T(t),z(n),z(c),z(u)}}}function Ni(e,t,r){let n=[];for(let d=0;d<Rn;++d)n.push(new mr("card"+d,d,"something",["human"],"n",{type:"unit",n1:12,n2:12},"string",!1));let i={battleField:[...n],channeled:[],combatArea:[],deck:[],hand:[],memDiscard:[],randomZone:[],voidPile:[]},o={battleField:[],channeled:[],combatArea:[],deck:[],hand:[],memDiscard:[],randomZone:[],voidPile:[]},l=[];console.log(i);function c(d){i=d,r(0,i)}function f(d){l=d,r(2,l)}function m(d){o=d,r(1,o)}return[i,o,l,c,f,m]}class Si extends Ce{constructor(t){super(),Se(this,t,Ni,Ri,Ne,{})}}new Si({target:document.getElementById("app")});
